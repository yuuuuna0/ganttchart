<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.weaverloft.ganttchart.mapper.UsersLogMapper">
    <!-- 1. 회원가입 로그 남기기 -->
    <insert id="registerUser" parameterType="java.util.Map">
        <selectKey resultType="java.lang.Integer" keyProperty="logNo" order="BEFORE">
            select USERS_LOG_LOG_NO_SEQ.nextval from DUAL
        </selectKey>
        insert into (log_no, log_date, log_status, id)
        values (0,sysdate,0,#{id})
    </insert>
    <!-- 2. 인증 로그 남기기 -->
    <insert id="authUser" parameterType="java.lang.String">
        <selectKey resultType="java.lang.Integer" keyProperty="logNo" order="BEFORE">
            select USERS_LOG_LOG_NO_SEQ.nextval from dual
        </selectKey>
        insert into (log_no, log_date, log_status, id)
        values (0,sysdate,1,#{id})
    </insert>
    <!-- 3. 로그인 로그 남기기 -->
    <insert id="loginUser" parameterType="java.lang.String">
        <selectKey resultType="java.lang.Integer" keyProperty="logNo" order="BEFORE">
            select USERS_LOG_LOG_NO_SEQ.nextval from dual
        </selectKey>
        insert into (log_no, log_date, log_status, id)
        values (0,sysdate,10,#{id})
    </insert>
    <!-- 4. 로그아웃 로그 남기기 -->
    <insert id="logoutUser" parameterType="java.lang.String">
        <selectKey resultType="java.lang.Integer" keyProperty="logNo" order="BEFORE">
            select USERS_LOG_LOG_NO_SEQ.nextval from dual
        </selectKey>
        insert into (log_no, log_date, log_status, id)
        values (0,sysdate,11,#{id})
    </insert>
</mapper>